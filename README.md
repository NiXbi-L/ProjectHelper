# ProjectHelper API

API —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –ø–æ–º–æ—â–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º –≤ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –±–∞–∑–µ Django REST Framework.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å OAuth (—Ç–æ–ª—å–∫–æ –¥–ª—è @dvfu.ru)
- üìÅ –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
- üë• –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç –ø–æ email
- üìä –≠—Ç–∞–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
- üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —ç—Ç–∞–ø–∞–º
- üí≠ –û–±—â–∏–π —á–∞—Ç –ø—Ä–æ–µ–∫—Ç–∞
- üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <repository-url>
cd ProjectHelper
```

2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

4. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ `API` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:
```bash
SECRET_KEY=your-secret-key-here
YANDEX_OAUTH2_KEY=your-yandex-oauth2-key
YANDEX_OAUTH2_SECRET=your-yandex-oauth2-secret
```

5. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
```bash
cd API
python manage.py migrate
```

6. –°–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
```bash
cd API
python manage.py createsuperuser
```

7. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```bash
cd API
python manage.py runserver
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ø–Ω–¥–µ–∫—Å OAuth

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://oauth.yandex.ru/
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –£–∫–∞–∂–∏—Ç–µ Callback URI: `http://localhost:8000/auth/complete/yandex-oauth2/`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Client ID –∏ Client Secret –≤ `.env` —Ñ–∞–π–ª

## API Endpoints

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

- `GET /auth/login/yandex-oauth2/` - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å
- `GET /api/auth/users/me/` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

### –ü—Ä–æ–µ–∫—Ç—ã

- `GET /api/projects/projects/` - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/projects/projects/` - –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
- `GET /api/projects/projects/{id}/` - –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
- `PUT /api/projects/projects/{id}/` - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
- `DELETE /api/projects/projects/{id}/` - –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
- `POST /api/projects/projects/{id}/add_member/` - –î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ –ø–æ email
- `GET /api/projects/projects/{id}/enter/` - –í—Ö–æ–¥ –≤ –ø—Ä–æ–µ–∫—Ç

### –≠—Ç–∞–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- `GET /api/projects/stages/?project={id}` - –°–ø–∏—Å–æ–∫ —ç—Ç–∞–ø–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
- `POST /api/projects/stages/` - –°–æ–∑–¥–∞—Ç—å —ç—Ç–∞–ø
- `GET /api/projects/stages/{id}/` - –î–µ—Ç–∞–ª–∏ —ç—Ç–∞–ø–∞
- `PUT /api/projects/stages/{id}/` - –û–±–Ω–æ–≤–∏—Ç—å —ç—Ç–∞–ø
- `POST /api/projects/stages/{id}/toggle_complete/` - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

- `GET /api/projects/comments/?stage={id}` - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —ç—Ç–∞–ø—É
- `POST /api/projects/comments/` - –°–æ–∑–¥–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

### –ß–∞—Ç –ø—Ä–æ–µ–∫—Ç–∞

- `GET /api/projects/chat/?project={id}` - –°–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `POST /api/projects/chat/` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç

### –ü–æ–¥—Å–∫–∞–∑–∫–∏

- `GET /api/projects/hints/?stage={id}` - –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —ç—Ç–∞–ø–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ProjectHelper/
‚îú‚îÄ‚îÄ API/              # Django –ø—Ä–æ–µ–∫—Ç
‚îÇ   ‚îú‚îÄ‚îÄ config/       # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django
‚îÇ   ‚îú‚îÄ‚îÄ users/        # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ projects/     # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ manage.py
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ QUICKSTART.md
‚îî‚îÄ‚îÄ API_EXAMPLES.md
```

## –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### Project
- –ù–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ
- –í–ª–∞–¥–µ–ª–µ—Ü –∏ —É—á–∞—Å—Ç–Ω–∏–∫–∏
- –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### DevelopmentStage
- –¢–∏–ø —ç—Ç–∞–ø–∞ (–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞–Ω–∞–ª–∏–∑, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç.–¥.)
- –û–ø–∏—Å–∞–Ω–∏–µ, –ø–æ—Ä—è–¥–æ–∫
- –°—Ç–∞—Ç—É—Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### StageComment
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —ç—Ç–∞–ø–∞–º
- –ê–≤—Ç–æ—Ä –∏ –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

### ProjectChatMessage
- –°–æ–æ–±—â–µ–Ω–∏—è –≤ –æ–±—â–µ–º —á–∞—Ç–µ –ø—Ä–æ–µ–∫—Ç–∞

### StageHint
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —Å–ª–µ–¥–æ–≤–∞—Ç—å PEP 8.

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

